<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    />
    <script src="https://js.tosspayments.com/v1/payment"></script>
    <title>Document</title>
  </head>
  <body>
    <h4 class="container mt-4"><strong>글 작성페이지</strong></h4>
    <div>dfdfsdf ds</div>
  </body>

  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script
    src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
    integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
    crossorigin="anonymous"
  ></script>

  <script>
    (async () => {
      // ------ 클라이언트 키로 객체 초기화 ------
      var clientKey = 'test_ck_XLkKEypNArWO5AGbPglrlmeaxYG5';
      var tossPayments = TossPayments(clientKey);
      tossPayments
        .requestBillingAuth('카드', {
          // 결제수단 파라미터 (자동결제는 카드만 지원합니다.)
          // 결제 정보 파라미터
          customerKey: 'oVUqSG6EJPu3OqXt5Nh26', // 고객 ID로 상점에서 만들어야 합니다. 빌링키와 매핑됩니다. 자세한 파라미터 설명은 파라미터 설명을 참고하세요: https://docs.tosspayments.com/reference/js-sdk#결제-정보-5
          successUrl: 'http://localhost:3000/test/toss_auto_callback', // 카드 등록에 성공하면 이동하는 페이지(직접 만들어주세요)
          failUrl: 'http://localhost:3000/test/toss_auto_fail', // 카드 등록에 실패하면 이동하는 페이지(직접 만들어주세요)
        })
        .catch(function (error) {
          if (error.code === 'USER_CANCEL') {
            // 결제 고객이 결제창을 닫았을 때 에러 처리
          }
        });
    })();
  </script>
</html>
